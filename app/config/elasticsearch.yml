#FOSElasticaBundle
fos_elastica:
    clients:
        default: { host: "%elasticsearch_host%", port: "%elasticsearch_port%" }
    indexes:
        app:
            client: default
            finder: ~
            settings:
                index:
                    analysis:
                        analyzer:
                            search_analyzer:
                                type: custom
                                tokenizer: standard
                                filter: [standard, lowercase, asciifolding]
                            ngram_index_analyzer:
                                type: custom
                                tokenizer: standard
                                filter: [standard, lowercase, asciifolding, edge_ngram]
                        filter:
                            edge_ngram:
                                type: edgeNGram
                                side: front
                                min_gram: 1
                                max_gram: 20
            types:
                user:
                    properties:
                        email:
                            analyzer :        ngram_index_analyzer
                            search_analyzer : search_analyzer
                        email_raw:
                            type:             string
                            index:            not_analyzed
                            property_path:    email
                        fullName:
                            analyzer :        ngram_index_analyzer
                            search_analyzer : search_analyzer
                        fullName_raw:
                            type:             string
                            index:            not_analyzed
                            property_path:    fullName
                    persistence:
                      driver:                 orm
                      model:                  AppBundle\Entity\User
                      provider:               ~
                      listener:               ~
                      finder:                 ~
                      repository:             AppBundle\SearchRepository\UserRepository
                      elastica_to_model_transformer:
                        ignore_missing: true
