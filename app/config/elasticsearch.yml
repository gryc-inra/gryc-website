#FOSElasticaBundle
fos_elastica:
    clients:
        default: { host: "%elasticsearch_host%", port: "%elasticsearch_port%" }
    indexes:
        app:
            client: default
            finder: ~
            settings:
                index:
                    analysis:
                        analyzer:
                            search_analyzer:
                                type: custom
                                tokenizer: standard
                                filter: [standard, lowercase, asciifolding]
                            ngram_index_analyzer:
                                type: custom
                                tokenizer: standard
                                filter: [standard, lowercase, asciifolding, edge_ngram]
                        filter:
                            edge_ngram:
                                type: edgeNGram
                                side: front
                                min_gram: 1
                                max_gram: 20
            types:
                locus:
                    properties:
                        name:
                            analyzer :        ngram_index_analyzer
                            search_analyzer : search_analyzer
                        annotation:
                            type:             object
                        note:
                        public:
                            property_path:    chromosome.strain.public
                        authorized_users_id:
                            property_path:    chromosome.strain.authorizedUsersId
                    persistence:
                      driver:                 orm
                      model:                  AppBundle\Entity\Locus
                      provider:               ~
                      listener:               ~
                      finder:                 ~
                      repository:             AppBundle\SearchRepository\LocusRepository
                feature:
                    properties:
                        name:
                            analyzer :        ngram_index_analyzer
                            search_analyzer : search_analyzer
                        annotation:
                            type:             object
                        note:
                        public:
                            property_path:    locus.chromosome.strain.public
                        authorized_users_id:
                            property_path:    locus.chromosome.strain.authorizedUsersId
                    persistence:
                      driver:                 orm
                      model:                  AppBundle\Entity\Feature
                      provider:               ~
                      listener:               ~
                      finder:                 ~
                      repository:             AppBundle\SearchRepository\FeatureRepository
                product:
                    properties:
                        name:
                            analyzer :        ngram_index_analyzer
                            search_analyzer : search_analyzer
                        annotation:
                            type:             object
                        note:
                        public:
                            property_path:    feature.locus.chromosome.strain.public
                        authorized_users_id:
                            property_path:    feature.locus.chromosome.strain.authorizedUsersId
                    persistence:
                      driver:                 orm
                      model:                  AppBundle\Entity\Product
                      provider:               ~
                      listener:               ~
                      finder:                 ~
                      repository:             AppBundle\SearchRepository\ProductRepository